<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 8.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"wangmc1024.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":true,"pangu":false,"comments":{"style":"tabs","active":"gitalk","storage":true,"lazyload":true,"nav":null,"activeClass":"gitalk"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":true,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.json"};
  </script>

  <meta name="description" content="记录git的使用">
<meta property="og:type" content="article">
<meta property="og:title" content="Git的使用">
<meta property="og:url" content="https://wangmc1024.github.io/2025/08/15/linux/Git%20%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/index.html">
<meta property="og:site_name" content="Computer Science">
<meta property="og:description" content="记录git的使用">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-08-15T08:00:00.000Z">
<meta property="article:modified_time" content="2025-10-19T11:11:01.379Z">
<meta property="article:author" content="三子曰">
<meta property="article:tag" content="Git">
<meta property="article:tag" content="工具">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://wangmc1024.github.io/2025/08/15/linux/Git%20%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Git的使用 | Computer Science</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>


<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Computer Science</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">WangMC Blog</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>时间轴</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div id="spa-content-wrap" class="content-wrap">
            

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://wangmc1024.github.io/2025/08/15/linux/Git%20%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://cdn.jsdelivr.net/gh/MengChangWang/Blog_Image@main/img/avatar.png">
      <meta itemprop="name" content="三子曰">
      <meta itemprop="description" content="欢迎来到我的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Computer Science">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Git的使用
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2025-08-15 16:00:00" itemprop="dateCreated datePublished" datetime="2025-08-15T16:00:00+08:00">2025-08-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-10-19 19:11:01" itemprop="dateModified" datetime="2025-10-19T19:11:01+08:00">2025-10-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%BC%96%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">编程</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span><br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>17k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>15 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <blockquote>
<p>记录git的使用 <span id="more"></span></p>
</blockquote>
<h1 id="git-命令大全">Git 命令大全</h1>
<blockquote>
<p>本文基于知乎文章《Git 命令大全》（<a
target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/1929607076927210493">原文链接</a>）整理，涵盖
Git 核心操作命令、常见问题解决方案，并补充实用扩展知识</p>
</blockquote>
<h2 id="一初始化与配置">一、初始化与配置</h2>
<h3 id="核心命令整理原文内容">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初始化本地 Git 仓库（在当前目录创建 .git 文件夹）</span></span><br><span class="line">git init</span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置全局用户名（所有仓库生效）</span></span><br><span class="line">git config --global user.name <span class="string">&quot;你的用户名&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置全局邮箱（与 Git 平台账号邮箱一致，用于身份识别）</span></span><br><span class="line">git config --global user.email <span class="string">&quot;你的邮箱@xxx.com&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 开启命令自动着色（git status、git log 等输出更易读）</span></span><br><span class="line">git config --global color.ui <span class="literal">true</span></span><br><span class="line">git config --global color.status auto</span><br><span class="line">git config --global color.diff auto</span><br><span class="line">git config --global color.branch auto</span><br><span class="line">git config --global color.interactive auto</span><br><span class="line"></span><br><span class="line"><span class="comment"># 移除全局 HTTP 代理配置（解决代理失效导致的连接问题）</span></span><br><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展">2. 补充知识与扩展</h3>
<ul>
<li><p><strong>配置作用域区别</strong>：</p>
<ul>
<li><code>--global</code>：全局配置（保存在 <code>~/.gitconfig</code> 或
<code>C:\Users\用户名\.gitconfig</code>），对当前用户所有仓库生效；</li>
<li><code>--local</code>：仓库级配置（保存在当前仓库的
<code>.git/config</code>），仅对当前仓库生效，优先级高于
<code>--global</code>；</li>
<li><code>--system</code>：系统级配置（保存在
<code>/etc/gitconfig</code> 或
<code>Git 安装目录/etc/gitconfig</code>），对所有用户生效（需管理员权限）。<br />
示例：为当前仓库单独配置邮箱<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --<span class="built_in">local</span> user.email <span class="string">&quot;仓库专属邮箱@xxx.com&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul></li>
<li><p><strong>查看配置</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --list  <span class="comment"># 查看所有生效的配置（按优先级排序）</span></span><br><span class="line">git config user.name  <span class="comment"># 查看指定配置项（如用户名）</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>常用辅助配置</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置默认文本编辑器（解决 commit 时编辑器异常问题）</span></span><br><span class="line">git config --global core.editor <span class="string">&quot;code --wait&quot;</span>  <span class="comment"># VS Code 为例</span></span><br><span class="line"><span class="comment"># 配置换行符自动转换（避免跨系统协作换行符冲突）</span></span><br><span class="line">git config --global core.autocrlf <span class="literal">true</span>  <span class="comment"># Windows 下；Linux/macOS 下设为 input</span></span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2 id="二克隆状态与提交">二、克隆、状态与提交</h2>
<h3 id="核心命令整理原文内容-1">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 克隆远程仓库（SSH 地址示例，也可使用 HTTPS 地址）</span></span><br><span class="line">git <span class="built_in">clone</span> git+ssh://git@192.168.53.168/VT.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看当前仓库状态（显示修改未暂存、暂存未提交的文件）</span></span><br><span class="line">git status</span><br><span class="line"></span><br><span class="line"><span class="comment"># 单个文件添加到暂存区（跟踪文件变更）</span></span><br><span class="line">git add xyz.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 当前目录所有修改/新增文件添加到暂存区（不含被忽略文件）</span></span><br><span class="line">git add .</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提交暂存区文件（-m 后为提交说明，需清晰描述变更内容）</span></span><br><span class="line">git commit -m <span class="string">&quot;feat: 新增登录功能&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改上一次提交（仅适用于未推送到远程的提交，避免修改历史）</span></span><br><span class="line">git commit --amend -m <span class="string">&quot;feat: 新增登录功能（补充密码验证）&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 跳过暂存区，直接提交已跟踪文件的修改（未跟踪文件需先 git add）</span></span><br><span class="line">git commit -am <span class="string">&quot;fix: 修复登录按钮点击无响应问题&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-1">2. 补充知识与扩展</h3>
<ul>
<li><p><strong>克隆的扩展用法</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 克隆指定分支（避免克隆全部分支占用空间）</span></span><br><span class="line">git <span class="built_in">clone</span> -b 分支名 远程仓库地址</span><br><span class="line"><span class="comment"># 示例：克隆远程 develop 分支</span></span><br><span class="line">git <span class="built_in">clone</span> -b develop https://github.com/xxx/xxx.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 浅克隆（仅拉取最近 N 次提交，适合大型仓库提速）</span></span><br><span class="line">git <span class="built_in">clone</span> --depth 1 远程仓库地址  <span class="comment"># 仅拉取最近 1 次提交</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>暂存区理解</strong>：<br />
暂存区（Index）是 Git 特有的“中间层”，用于临时存放待提交的变更。通过
<code>git add</code> 将变更存入暂存区，<code>git commit</code>
将暂存区内容提交到本地仓库。好处是可分批次提交不同文件的变更（例如：先提交功能代码，再提交文档）。</p></li>
<li><p><strong>提交信息规范</strong>：<br />
推荐遵循 <a
target="_blank" rel="noopener" href="https://www.conventionalcommits.org/zh-hans/v1.0.0/">Angular
提交规范</a>，格式：<code>类型(范围): 描述</code></p>
<ul>
<li>类型：<code>feat</code>（新功能）、<code>fix</code>（bug
修复）、<code>docs</code>（文档修改）、<code>style</code>（代码格式调整，无逻辑变更）、<code>refactor</code>（重构）、<code>test</code>（测试代码）、<code>chore</code>（构建/工具配置）；<br />
示例：<code>fix(login): 修复手机号格式验证错误</code></li>
</ul></li>
</ul>
<h2 id="三文件删除与重命名">三、文件删除与重命名</h2>
<h3 id="核心命令整理原文内容-2">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从暂存区和工作区同时删除文件（需谨慎，删除后需 commit 生效）</span></span><br><span class="line">git <span class="built_in">rm</span> xxx.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 递归删除目录（含子目录下所有文件）</span></span><br><span class="line">git <span class="built_in">rm</span> -r docs/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名文件（等价于 “mv 旧名 新名 + git add 新名 + git rm 旧名”）</span></span><br><span class="line">git <span class="built_in">mv</span> README.md README_2.0.md</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-2">2. 补充知识与扩展</h3>
<ul>
<li><p><strong>仅从暂存区删除（保留工作区文件）</strong>：<br />
若误将不需要跟踪的文件
<code>git add</code>，可从暂存区移除但保留本地文件：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> --cached 不需要跟踪的文件.txt</span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>删除已提交的文件（保留本地副本）</strong>：<br />
若文件已提交到仓库，想停止跟踪但保留本地文件：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> --cached 已提交文件.txt</span><br><span class="line">git commit -m <span class="string">&quot;chore: 停止跟踪已提交文件.txt&quot;</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>重命名的注意事项</strong>：<br />
Git 对文件名大小写不敏感（如 <code>ReadMe.md</code> 与
<code>README.md</code>
视为同一文件），若需修改文件名大小写，需先删除旧名再添加新名：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">rm</span> ReadMe.md</span><br><span class="line"><span class="built_in">mv</span> ReadMe.md README.md</span><br><span class="line">git add README.md</span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2 id="四日志查看与显示">四、日志查看与显示</h2>
<h3 id="核心命令整理原文内容-3">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示完整提交日志（按时间倒序，含作者、时间、提交 ID、说明）</span></span><br><span class="line">git <span class="built_in">log</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示最近 1 次提交</span></span><br><span class="line">git <span class="built_in">log</span> -1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示最近 5 次提交</span></span><br><span class="line">git <span class="built_in">log</span> -5</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示日志及每次提交的变更文件（含新增/删除/修改的文件数）</span></span><br><span class="line">git <span class="built_in">log</span> --<span class="built_in">stat</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示日志及每次提交的具体代码变更（-p 显示补丁，-m 显示合并提交的双方信息）</span></span><br><span class="line">git <span class="built_in">log</span> -p -m</span><br><span class="line"></span><br><span class="line"><span class="comment"># 图形化显示提交历史（含分支合并线，%h 显示短提交 ID，%s 显示提交说明）</span></span><br><span class="line">git <span class="built_in">log</span> --pretty=format:<span class="string">&#x27;%h %s&#x27;</span> --graph</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看指定提交的完整内容（需输入完整提交 ID，或前 4-6 位即可）</span></span><br><span class="line">git show dfb02e6e4f2f7b573337763e5c0013802e392818</span><br><span class="line">git show dfb02  <span class="comment"># 短 ID 示例</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看当前 HEAD 指向的提交详情（HEAD 是当前分支的“指针”）</span></span><br><span class="line">git show HEAD</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看上一个版本的提交（HEAD^ 等价于 HEAD~1）</span></span><br><span class="line">git show HEAD^</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看上上上次版本的提交（HEAD~3 表示往前数 3 个版本）</span></span><br><span class="line">git show HEAD~3</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-3">2. 补充知识与扩展</h3>
<ul>
<li><p><strong>常用日志过滤与格式化</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按作者筛选日志（查找指定人提交的记录）</span></span><br><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;张三&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按时间筛选日志（查找近 3 天的提交）</span></span><br><span class="line">git <span class="built_in">log</span> --since=<span class="string">&quot;3 days ago&quot;</span></span><br><span class="line"><span class="comment"># 查找 2024-01-01 到 2024-05-01 之间的提交</span></span><br><span class="line">git <span class="built_in">log</span> --since=<span class="string">&quot;2024-01-01&quot;</span> --<span class="keyword">until</span>=<span class="string">&quot;2024-05-01&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 按提交说明筛选（查找含“登录”关键词的提交）</span></span><br><span class="line">git <span class="built_in">log</span> --grep=<span class="string">&quot;登录&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 简洁日志（一行显示一个提交，常用！）</span></span><br><span class="line">git <span class="built_in">log</span> --oneline  <span class="comment"># 等价于 --pretty=oneline --abbrev-commit</span></span><br><span class="line"><span class="comment"># 图形化简洁日志（查看分支关系更直观）</span></span><br><span class="line">git <span class="built_in">log</span> --oneline --graph --all  <span class="comment"># --all 显示所有分支的日志</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>查看特定文件的提交历史</strong>：<br />
跟踪单个文件的修改记录（适合排查“谁改了这个文件”）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">log</span> -p README.md  <span class="comment"># 显示 README.md 的所有修改历史及代码变更</span></span><br><span class="line">git <span class="built_in">log</span> --follow README.md  <span class="comment"># 跟踪文件重命名后的历史（默认不跟踪）</span></span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2 id="五标签管理">五、标签管理</h2>
<h3 id="核心命令整理原文内容-4">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看本地所有标签（按字母顺序排列）</span></span><br><span class="line">git tag</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建带注释的标签（-a 表示 annotated，含作者、时间、说明，推荐用于版本发布）</span></span><br><span class="line">git tag -a v2.0 -m <span class="string">&quot;版本 2.0：新增支付功能&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示标签对应的提交详情（含标签说明、提交内容）</span></span><br><span class="line">git show v2.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看标签 v2.0 对应的所有提交日志</span></span><br><span class="line">git <span class="built_in">log</span> v2.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 推送所有本地标签到远程仓库（标签不会随 git push 自动推送）</span></span><br><span class="line">git push --tags</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-4">2. 补充知识与扩展</h3>
<ul>
<li><p><strong>标签的两种类型</strong>：</p>
<ol type="1">
<li><strong>带注释标签（Annotated）</strong>：<code>git tag -a</code>
创建，含完整元数据（作者、时间、说明），会被 Git
永久跟踪，适合正式版本（如 v1.0、v2.0）；<br />
</li>
<li><strong>轻量标签（Lightweight）</strong>：仅为提交 ID
的“别名”，无元数据，适合临时标记（如测试版本）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag v2.0-beta  <span class="comment"># 创建轻量标签</span></span><br><span class="line">git tag -d v2.0-beta  <span class="comment"># 删除轻量标签（与删除带注释标签命令一致）</span></span><br></pre></td></tr></table></figure></li>
</ol></li>
<li><p><strong>推送指定标签到远程</strong>：<br />
若不想推送所有标签，可指定单个标签：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin v2.0  <span class="comment"># 仅推送标签 v2.0 到远程</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>删除远程标签</strong>：<br />
需先删除本地标签，再推送“删除指令”到远程：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git tag -d v2.0  <span class="comment"># 删除本地标签</span></span><br><span class="line">git push origin :refs/tags/v2.0  <span class="comment"># 删除远程标签</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>检出标签（查看历史版本）</strong>：<br />
标签是“静态快照”，检出后会进入 <code>detached HEAD</code>
状态（无分支关联），若需修改，需创建新分支：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git checkout v2.0  <span class="comment"># 检出标签 v2.0（进入 detached HEAD 状态）</span></span><br><span class="line">git checkout -b fix-v2.0 v2.0  <span class="comment"># 基于标签创建新分支，用于修复旧版本问题</span></span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2 id="六差异比较diff">六、差异比较（diff）</h2>
<h3 id="核心命令整理原文内容-5">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 显示工作区与暂存区的差异（未 git add 的修改）</span></span><br><span class="line">git diff</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示暂存区与本地仓库的差异（已 git add 但未 git commit 的修改）</span></span><br><span class="line">git diff --cached</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示工作区与上一次提交（HEAD^）的差异</span></span><br><span class="line">git diff HEAD^</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示工作区与 HEAD 版本中指定目录（lib/）的差异</span></span><br><span class="line">git diff HEAD -- ./lib</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示远程 master 分支与本地 master 分支的差异（需先 git fetch）</span></span><br><span class="line">git diff origin/master..master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 仅显示差异文件列表（不显示具体代码变更，适合快速排查）</span></span><br><span class="line">git diff origin/master..master --<span class="built_in">stat</span></span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-5">2. 补充知识与扩展</h3>
<ul>
<li><p><strong>比较分支/提交的差异</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 比较两个分支的差异（如 feature/login 与 master）</span></span><br><span class="line">git diff feature/login..master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较两个提交之间的差异（需输入两个提交 ID）</span></span><br><span class="line">git diff dfb02..a8c3f  <span class="comment"># 显示 dfb02 到 a8c3f 之间的变更</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 比较指定文件在两个分支中的差异</span></span><br><span class="line">git diff feature/login master -- ./src/login.js</span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>忽略空白字符差异</strong>：<br />
若代码仅调整了空格/换行（无逻辑变更），可忽略空白差异：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git diff -w  <span class="comment"># -w 忽略所有空白差异</span></span><br><span class="line">git diff --ignore-space-at-eol  <span class="comment"># 仅忽略行尾空白差异</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>使用工具可视化 diff</strong>：<br />
若觉得命令行 diff 不直观，可使用图形化工具（如 VS Code）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git difftool  <span class="comment"># 调用默认图形化工具显示差异</span></span><br><span class="line">git difftool --tool=vscode  <span class="comment"># 指定 VS Code 为 diff 工具</span></span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2 id="七远程仓库操作">七、远程仓库操作</h2>
<h3 id="核心命令整理原文内容-6">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加远程仓库（命名为 origin，通常为默认远程仓库名）</span></span><br><span class="line">git remote add origin git+ssh://git@192.168.53.168/VT.git</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取远程仓库的所有更新（不合并到本地分支，仅更新本地缓存的远程分支）</span></span><br><span class="line">git fetch</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取远程更新并清理本地缓存中已被远程删除的分支（避免无效分支残留）</span></span><br><span class="line">git fetch --prune</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拉取远程 master 分支并合并到当前本地分支（等价于 git fetch + git merge）</span></span><br><span class="line">git pull origin master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 推送当前本地分支到远程 master 分支（若远程无该分支则自动创建）</span></span><br><span class="line">git push origin master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除远程分支（hotfixes/BJVEP933，格式：origin:远程分支名）</span></span><br><span class="line">git push origin :hotfixes/BJVEP933</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-6">2. 补充知识与扩展</h3>
<ul>
<li><p><strong>查看远程仓库信息</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote  <span class="comment"># 查看所有远程仓库名（如 origin）</span></span><br><span class="line">git remote -v  <span class="comment"># 查看远程仓库的详细地址（fetch 拉取地址、push 推送地址）</span></span><br><span class="line">git remote show origin  <span class="comment"># 查看 origin 远程仓库的详细信息（含分支关联、提交状态）</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>修改远程仓库地址</strong>：<br />
若远程仓库地址变更（如 Git 服务器迁移），无需删除重建，直接修改：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法 1：修改地址</span></span><br><span class="line">git remote set-url origin 新的远程地址</span><br><span class="line"><span class="comment"># 方法 2：先删除旧地址，再添加新地址</span></span><br><span class="line">git remote remove origin</span><br><span class="line">git remote add origin 新的远程地址</span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>SSH 与 HTTPS 地址的区别</strong>：<br />
| 类型 | 优势 | 劣势 | 适用场景 | |——|——|——|———-| | SSH |
无需每次输入账号密码（配置 SSH 密钥后） | 需提前配置 SSH 密钥，首次
setup 稍复杂 | 长期开发的个人/团队仓库 | | HTTPS |
无需配置密钥，直接输入账号密码即可连接 |
每次推送需输入账号密码（可配置凭据缓存） | 临时克隆、公共仓库访问
|</p></li>
<li><p><strong>安全推送替代
<code>git push --force</code></strong>：<br />
原文提示慎用
<code>git push --force</code>（可能覆盖远程提交），推荐更安全的
<code>--force-with-lease</code>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --force-with-lease origin master</span><br></pre></td></tr></table></figure>
<p>作用：仅当远程分支未被他人修改时才强制推送，若他人已提交，会提示冲突，避免误删他人代码。</p></li>
<li><p><strong>关联本地分支与远程分支</strong>：<br />
首次推送本地分支到远程时，建议关联分支（后续可直接
<code>git pull/push</code>，无需指定远程分支）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git push -u origin 本地分支名  <span class="comment"># -u 等价于 --set-upstream</span></span><br><span class="line"><span class="comment"># 示例：推送本地 feature/pay 分支并关联远程同名分支</span></span><br><span class="line">git push -u origin feature/pay</span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2 id="八分支管理">八、分支管理</h2>
<h3 id="核心命令整理原文内容-7">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看本地所有分支（当前分支前带 * 标记）</span></span><br><span class="line">git branch</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看包含指定提交（50089 为短提交 ID）的所有本地分支</span></span><br><span class="line">git branch --contains 50089</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有分支（本地 + 远程，远程分支以 remotes/origin/ 开头）</span></span><br><span class="line">git branch -a</span><br><span class="line"></span><br><span class="line"><span class="comment"># 仅查看所有远程分支</span></span><br><span class="line">git branch -r</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看已合并到当前分支的所有本地分支（可安全删除）</span></span><br><span class="line">git branch --merged</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看未合并到当前分支的所有本地分支（删除需谨慎）</span></span><br><span class="line">git branch --no-merged</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重命名本地分支（将 master 重命名为 master_copy，需在非目标分支下操作）</span></span><br><span class="line">git branch -m master master_copy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除本地分支（仅当分支已合并到其他分支时生效，避免误删未合并代码）</span></span><br><span class="line">git branch -d hotfixes/BJVEP933</span><br><span class="line"></span><br><span class="line"><span class="comment"># 强制删除本地分支（无论是否合并，用于删除确定无用的分支）</span></span><br><span class="line">git branch -D hotfixes/BJVEP933</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-7">2. 补充知识与扩展</h3>
<ul>
<li><p><strong>Git 2.23+ 新命令：<code>git switch</code> 与
<code>git restore</code></strong>：<br />
Git 新增更直观的分支切换命令 <code>git switch</code>（替代
<code>git checkout</code> 的分支切换功能）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git switch master  <span class="comment"># 切换到已存在的 master 分支</span></span><br><span class="line">git switch -c feature/pay  <span class="comment"># 创建并切换到 feature/pay 分支（-c 等价于 --create）</span></span><br><span class="line">git switch -c feature/pay origin/feature/pay  <span class="comment"># 基于远程分支创建本地分支并切换</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>查看分支关联状态</strong>：<br />
查看本地分支与远程分支的关联关系（是否已
<code>--set-upstream</code>）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git branch -vv  <span class="comment"># 显示每个分支的关联远程分支及提交差异</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>清理本地无效分支</strong>：<br />
当远程分支被删除后，本地 <code>git branch -a</code> 仍会显示
<code>remotes/origin/已删除分支</code>，可通过以下命令清理：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git fetch --prune  <span class="comment"># 清理本地缓存的远程已删除分支</span></span><br><span class="line"><span class="comment"># 或手动删除本地跟踪的无效远程分支</span></span><br><span class="line">git branch -r | grep -v <span class="string">&#x27;origin/master&#x27;</span> | xargs -I &#123;&#125; git branch --delete --remotes &#123;&#125;</span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2 id="九分支检出与合并">九、分支检出与合并</h2>
<h3 id="核心命令整理原文内容-8">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建并切换到新分支（master_copy，等价于 git branch master_copy + git checkout master_copy）</span></span><br><span class="line">git checkout -b master_copy</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从远程 develop 分支创建本地 devel 分支并切换</span></span><br><span class="line">git checkout -b devel origin/develop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检出已存在的分支（features/performance）</span></span><br><span class="line">git checkout features/performance</span><br><span class="line"></span><br><span class="line"><span class="comment"># 跟踪远程分支（将本地 hotfixes/BJVEP933 与远程同名分支关联，后续可直接 git pull/push）</span></span><br><span class="line">git checkout --track hotfixes/BJVEP933</span><br><span class="line"></span><br><span class="line"><span class="comment"># 切换到标签版本（v2.0，会进入 detached HEAD 状态）</span></span><br><span class="line">git checkout v2.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 回退单个文件到上一次提交的状态（放弃工作区修改，需谨慎）</span></span><br><span class="line">git checkout -- README.md</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将远程 master 分支合并到当前本地分支</span></span><br><span class="line">git merge origin/master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 应用指定提交（ff44785404a8e 为提交 ID）到当前分支（常用于跨分支复用单个提交）</span></span><br><span class="line">git cherry-pick ff44785404a8e</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-8">2. 补充知识与扩展</h3>
<ul>
<li><p><strong><code>git merge</code> 与 <code>git rebase</code>
的区别（核心扩展！）</strong>：<br />
两者均用于合并分支，但提交历史不同，适用场景不同：<br />
| 操作 | 提交历史 | 适用场景 | 风险 | |——|———-|———-|——| |
<code>git merge</code> |
保留分支合并记录（生成一个“合并提交”），历史更完整 |
团队协作的公共分支（如 master）合并功能分支 | 无（不修改已有提交历史） |
| <code>git rebase</code> |
将当前分支的提交“移植”到目标分支末尾，历史更简洁（无合并提交） |
个人开发分支（如 feature/*）合并到 master 前整理历史 |
有（修改已有提交历史，<strong>禁止对已推送到远程的公共分支使用</strong>）
|</p>
<p>示例：将 feature/login 分支合并到 master<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方法 1：merge（保留合并记录）</span></span><br><span class="line">git checkout master</span><br><span class="line">git pull origin master</span><br><span class="line">git merge feature/login</span><br><span class="line">git push origin master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方法 2：rebase（整理历史，仅用于个人分支）</span></span><br><span class="line">git checkout feature/login</span><br><span class="line">git rebase master  <span class="comment"># 解决冲突后</span></span><br><span class="line">git checkout master</span><br><span class="line">git merge feature/login  <span class="comment"># 此时为“快进合并”，无合并提交</span></span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure></p></li>
<li><p><strong><code>git cherry-pick</code> 高级用法</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 应用多个连续提交（从 a8c3f 到 dfb02，左开右闭，即包含 dfb02 不包含 a8c3f）</span></span><br><span class="line">git cherry-pick a8c3f..dfb02</span><br><span class="line"></span><br><span class="line"><span class="comment"># 应用提交时保留原作者信息</span></span><br><span class="line">git cherry-pick -x ff44785  <span class="comment"># -x 会在提交说明中添加“(cherry picked from commit ...)”</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 解决 cherry-pick 冲突后继续</span></span><br><span class="line">git cherry-pick --<span class="built_in">continue</span></span><br><span class="line"><span class="comment"># 放弃 cherry-pick</span></span><br><span class="line">git cherry-pick --abort</span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>合并冲突解决步骤（原文未详细说明，补充核心流程）</strong>：<br />
当 <code>git merge</code> 或 <code>git rebase</code>
出现冲突时，按以下步骤解决：</p>
<ol type="1">
<li>查看冲突文件：冲突文件中会用
<code>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</code>（当前分支内容）、<code>=======</code>（目标分支内容）、<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt; 分支名</code>
标记冲突区域；<br />
</li>
<li>编辑冲突文件：删除冲突标记，保留正确的代码；<br />
</li>
<li>标记冲突已解决：<code>git add 冲突文件路径</code>；<br />
</li>
<li>继续合并/变基：
<ul>
<li>若为
<code>git merge</code>：<code>git commit -m "merge: 解决与 master 分支的冲突"</code>（或
Git 自动提示提交）；<br />
</li>
<li>若为
<code>git rebase</code>：<code>git rebase --continue</code>；<br />
</li>
</ul></li>
<li>（可选）放弃合并/变基：<code>git merge --abort</code> 或
<code>git rebase --abort</code>。</li>
</ol></li>
</ul>
<h2
id="十版本控制操作resetrebaserevert">十、版本控制操作（reset/rebase/revert）</h2>
<h3 id="核心命令整理原文内容-9">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 重置当前分支到 HEAD 状态（--hard 会放弃工作区和暂存区的所有修改，需极度谨慎！）</span></span><br><span class="line">git reset --hard HEAD</span><br><span class="line"></span><br><span class="line"><span class="comment"># 变基操作（整理提交历史，默认基于当前分支的上游分支，需结合 -i 使用）</span></span><br><span class="line">git rebase</span><br><span class="line"></span><br><span class="line"><span class="comment"># 撤销指定提交（创建一个新提交抵消原提交的变更，不修改历史，适合已推送的提交）</span></span><br><span class="line">git revert dfb02e6e4f2f7b573337763e5c0013802e392818</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-9">2. 补充知识与扩展</h3>
<ul>
<li><p><strong><code>git reset</code>
的三种模式（核心区别！）</strong>：<br />
<code>git reset</code>
用于“回滚”版本，不同模式对工作区、暂存区的影响不同：<br />
| 模式 | 工作区 | 暂存区 | 本地仓库 | 适用场景 | |——|——–|——–|———-|———-|
| <code>--soft</code> | 保留修改 | 保留修改 | 回滚到指定版本 | 撤销
<code>git commit</code>，但保留已 <code>git add</code>
的内容（如提交信息写错） | | <code>--mixed</code>（默认） | 保留修改 |
回滚 | 回滚到指定版本 | 撤销 <code>git commit</code> 和
<code>git add</code>，但保留工作区修改（如误 add 不需要的文件） | |
<code>--hard</code> | 回滚（删除修改） | 回滚 | 回滚到指定版本 |
彻底放弃所有修改，回到指定版本（如代码完全错误，需从头开始） |</p>
<p>示例：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git reset --soft HEAD~1  <span class="comment"># 撤销上一次 commit，保留暂存区（原文 FAQ 4 用到）</span></span><br><span class="line">git reset --mixed HEAD~1  <span class="comment"># 撤销上一次 commit 和 add，保留工作区</span></span><br><span class="line">git reset --hard HEAD~1  <span class="comment"># 撤销上一次 commit、add，且删除工作区修改（危险！）</span></span><br></pre></td></tr></table></figure></p></li>
<li><p><strong><code>git rebase -i</code>（交互式变基，整理提交历史）</strong>：<br />
用于合并多个小提交、修改提交说明、删除无用提交，仅适用于未推送到远程的分支：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 整理最近 3 次提交（HEAD~3 表示往前数 3 个版本）</span></span><br><span class="line">git rebase -i HEAD~3</span><br></pre></td></tr></table></figure> 执行后会进入编辑器，显示最近 3 次提交，每行开头为
<code>pick</code>（保留该提交），可修改为：</p>
<ul>
<li><code>reword</code>（修改提交说明）；<br />
</li>
<li><code>squash</code>（将当前提交合并到上一个提交）；<br />
</li>
<li><code>drop</code>（删除当前提交）；<br />
保存后按提示完成变基，最终将多个小提交合并为一个清晰的提交。</li>
</ul></li>
<li><p><strong><code>git revert</code> 与 <code>git reset</code>
的区别</strong>：<br />
| 操作 | 对历史的影响 | 适用场景 | 风险 | |——|————–|———-|——| |
<code>git revert</code> | 创建新提交抵消原提交，不修改历史 |
撤销已推送到远程的提交（避免影响他人） | 无 | | <code>git reset</code> |
直接修改分支指针，删除历史提交 | 撤销未推送到远程的本地提交 |
有（修改历史，远程已有的提交无法用 reset 撤销） |</p>
<p>示例：撤销已推送的提交 <code>dfb02</code><br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git revert dfb02  <span class="comment"># 会自动创建一个新提交，说明为“Revert &quot;原提交说明&quot;”</span></span><br><span class="line">git push origin master  <span class="comment"># 推送新提交到远程，完成撤销</span></span><br></pre></td></tr></table></figure></p></li>
</ul>
<h2 id="十一暂存与恢复stash">十一、暂存与恢复（stash）</h2>
<h3 id="核心命令整理原文内容-10">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 暂存当前工作区和暂存区的所有修改（未提交的内容），保存为一个“快照”</span></span><br><span class="line">git stash</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有暂存的快照列表（按创建时间排序，stash@&#123;0&#125; 为最新）</span></span><br><span class="line">git stash list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看指定 stash 快照的具体内容（stash@&#123;0&#125; 为最新快照）</span></span><br><span class="line">git stash show -p stash@&#123;0&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 应用指定 stash 快照到当前工作区（应用后快照仍保留）</span></span><br><span class="line">git stash apply stash@&#123;0&#125;</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-10">2. 补充知识与扩展</h3>
<ul>
<li><p><strong>stash 的常用扩展命令</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 暂存时添加备注（方便后续识别快照内容，推荐！）</span></span><br><span class="line">git stash save <span class="string">&quot;开发到一半的登录功能&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 应用最新快照并删除该快照（等价于 apply + drop，常用）</span></span><br><span class="line">git stash pop  <span class="comment"># 应用 stash@&#123;0&#125; 并删除</span></span><br><span class="line">git stash pop stash@&#123;1&#125;  <span class="comment"># 应用 stash@&#123;1&#125; 并删除</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除指定快照（无需应用时）</span></span><br><span class="line">git stash drop stash@&#123;0&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有快照（清理无用 stash）</span></span><br><span class="line">git stash clear</span><br><span class="line"></span><br><span class="line"><span class="comment"># 基于 stash 快照创建新分支（适用于快照内容复杂，避免与当前分支冲突）</span></span><br><span class="line">git stash branch new-branch stash@&#123;0&#125;</span><br></pre></td></tr></table></figure></p></li>
<li><p><strong>stash 的注意事项</strong>：</p>
<ul>
<li>stash
仅暂存<strong>已跟踪文件</strong>的修改和<strong>暂存区的变更</strong>，未跟踪的新文件不会被暂存；<br />
</li>
<li>若需暂存未跟踪文件，需加
<code>-u</code>（–include-untracked）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash -u  <span class="comment"># 暂存已跟踪文件修改 + 未跟踪文件</span></span><br></pre></td></tr></table></figure></li>
<li>若需暂存忽略文件（.gitignore 中的文件），需加
<code>-a</code>（–all）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git stash -a  <span class="comment"># 暂存所有修改（已跟踪 + 未跟踪 + 忽略文件）</span></span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul>
<h2 id="十二文件查找与日志辅助">十二、文件查找与日志辅助</h2>
<h3 id="核心命令整理原文内容-11">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在所有跟踪文件中查找含“delete from”关键词的内容（支持正则）</span></span><br><span class="line">git grep <span class="string">&quot;delete from&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找同时包含“#define”和“SORT_DIRENT”的内容（--and 表示逻辑与）</span></span><br><span class="line">git grep -e <span class="string">&#x27;#define&#x27;</span> --and -e SORT_DIRENT</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出当前暂存区（Index）中的所有文件（即已跟踪的文件）</span></span><br><span class="line">git ls-files</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示最近修改过的文件历史（含每次修改的提交信息）</span></span><br><span class="line">git whatchanged</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看所有引用的历史记录（包括已删除的分支、reset 回滚的提交，比 git log 更全面）</span></span><br><span class="line">git reflog</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 HEAD 引用历史中第 5 个状态的提交详情</span></span><br><span class="line">git show HEAD@&#123;5&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 master 分支昨天的状态对应的提交详情</span></span><br><span class="line">git show master@&#123;yesterday&#125;</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-11">2. 补充知识与扩展</h3>
<ul>
<li><p><strong><code>git grep</code> 高级用法</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 仅显示匹配行的行号</span></span><br><span class="line">git grep -n <span class="string">&quot;delete from&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示匹配文件的文件名，不显示具体行内容</span></span><br><span class="line">git grep -l <span class="string">&quot;delete from&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在指定分支（如 develop）中查找关键词</span></span><br><span class="line">git grep <span class="string">&quot;delete from&quot;</span> develop</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在指定目录（如 src/）中查找关键词</span></span><br><span class="line">git grep <span class="string">&quot;delete from&quot;</span> src/</span><br></pre></td></tr></table></figure></p></li>
<li><p><strong><code>git reflog</code> 的关键作用</strong>：<br />
<code>git reflog</code> 记录了 Git
仓库中所有引用（HEAD、分支、标签）的变更历史，是“救回误删内容”的核心工具：</p>
<ul>
<li>恢复误删的分支：通过 <code>git reflog</code>
找到分支删除前的最后一个提交 ID，再创建分支（原文 FAQ 6 用到）；<br />
</li>
<li>恢复 <code>git reset --hard</code> 误删的工作区：找到 reset 前的提交
ID，用 <code>git reset --hard 提交ID</code> 恢复；<br />
示例：恢复误删的 feature/pay 分支<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git reflog  <span class="comment"># 找到 feature/pay 分支最后的提交 ID，如 a8c3f</span></span><br><span class="line">git checkout -b feature/pay a8c3f  <span class="comment"># 基于该提交重建分支</span></span><br></pre></td></tr></table></figure></li>
</ul></li>
</ul>
<h2 id="十三低层操作了解即可">十三、低层操作（了解即可）</h2>
<h3 id="核心命令整理原文内容-12">1. 核心命令整理（原文内容）</h3>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 以文本图示显示分支关系（含提交信息）</span></span><br><span class="line">git show-branch</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示所有分支（本地 + 远程）的关系图示</span></span><br><span class="line">git show-branch --all</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 HEAD 指向的提交对象下的文件结构（含文件类型、SHA1 值、文件名）</span></span><br><span class="line">git ls-tree HEAD</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看标签 v2.0 对应的提交对象的 SHA1 值（将引用转换为具体提交 ID）</span></span><br><span class="line">git rev-parse v2.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示指定提交（2be7fcb476）的简化原始信息（不含代码变更，仅元数据）</span></span><br><span class="line">git show -s --pretty=raw 2be7fcb476</span><br><span class="line"></span><br><span class="line"><span class="comment"># 垃圾回收（优化仓库，清理无用对象、合并松散对象，减小仓库体积）</span></span><br><span class="line">git gc</span><br><span class="line"></span><br><span class="line"><span class="comment"># 仓库完整性检查（检测损坏的对象或引用，修复仓库问题）</span></span><br><span class="line">git fsck</span><br></pre></td></tr></table></figure>
<h3 id="补充知识与扩展-12">2. 补充知识与扩展</h3>
<ul>
<li><strong>低层操作的适用场景</strong>：<br />
这些命令主要用于 Git 内部原理学习或仓库故障排查，日常开发极少用到：
<ul>
<li><code>git gc</code>：当仓库体积过大（如频繁提交大文件）时，手动执行可优化性能，Git
也会在后台自动执行；<br />
</li>
<li><code>git fsck</code>：当仓库报错（如“corrupt
object”）时，用于检测损坏的对象，若需修复，可能需要结合备份的
<code>.git/objects</code> 目录。</li>
</ul></li>
</ul>
<h2 id="十四常见-git-问题与解决方案faq">十四、常见 Git
问题与解决方案（FAQ）</h2>
<h3 id="原文问题整理与补充">1. 原文问题整理与补充</h3>
<h4 id="fatal-not-a-git-repository不是-git-仓库">1.1
<code>fatal: not a git repository</code>（不是 Git 仓库）</h4>
<ul>
<li><strong>错误原因</strong>：当前目录未初始化 Git 仓库（无
<code>.git</code> 文件夹），或切换到了非仓库目录。<br />
</li>
<li><strong>解决方案</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方案 1：在当前目录初始化仓库（新建仓库）</span></span><br><span class="line">git init</span><br><span class="line"><span class="comment"># 方案 2：切换到已存在的仓库目录（假设仓库在 ~/project 下）</span></span><br><span class="line"><span class="built_in">cd</span> ~/project</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="error-failed-to-push-some-refs-to-...推送失败">1.2
<code>error: failed to push some refs to ...</code>（推送失败）</h4>
<ul>
<li><strong>错误原因</strong>：远程分支有本地未同步的新提交（本地分支落后于远程），Git
防止覆盖远程代码而拒绝推送。<br />
</li>
<li><strong>解决方案</strong>（原文补充）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方案 1：拉取远程更新并合并（推荐，保留合并记录）</span></span><br><span class="line">git pull origin 分支名  <span class="comment"># 如 git pull origin master</span></span><br><span class="line"><span class="comment"># 解决合并冲突后，再推送</span></span><br><span class="line">git push origin 分支名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 2：拉取远程更新并变基（整理历史，仅用于个人分支）</span></span><br><span class="line">git pull --rebase origin 分支名</span><br><span class="line"><span class="comment"># 解决变基冲突后，再推送</span></span><br><span class="line">git push origin 分支名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 3：强制推送（仅当远程分支无他人修改时使用，极度谨慎！）</span></span><br><span class="line">git push --force-with-lease origin 分支名  <span class="comment"># 比 --force 更安全</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="如何撤销-git-add取消暂存">1.3 如何撤销
<code>git add</code>？（取消暂存）</h4>
<ul>
<li><strong>解决方案</strong>（原文 + 补充）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方案 1：适用于所有 Git 版本（原文方案）</span></span><br><span class="line">git reset HEAD 文件名  <span class="comment"># 如 git reset HEAD login.js</span></span><br><span class="line">git reset HEAD .  <span class="comment"># 撤销当前目录所有文件的暂存</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 2：适用于 Git 2.23+（更直观）</span></span><br><span class="line">git restore --staged 文件名  <span class="comment"># 如 git restore --staged login.js</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="如何撤销-git-commit未推送">1.4 如何撤销
<code>git commit</code>？（未推送）</h4>
<ul>
<li><strong>错误场景</strong>：提交信息写错，或漏加文件，且未推送到远程。<br />
</li>
<li><strong>解决方案</strong>（原文 + 补充）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方案 1：保留修改，回到 commit 前的暂存状态（原文方案）</span></span><br><span class="line">git reset --soft HEAD~1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 2：保留修改，回到 commit 前的工作区状态（取消暂存）</span></span><br><span class="line">git reset --mixed HEAD~1  <span class="comment"># 等价于 git reset HEAD~1（默认 --mixed）</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 3：直接修改上一次提交（推荐，避免多一次 reset 记录）</span></span><br><span class="line">git commit --amend -m <span class="string">&quot;修正后的提交说明&quot;</span></span><br><span class="line"><span class="comment"># 若漏加文件，先 add 再 amend</span></span><br><span class="line">git add 漏加的文件.txt</span><br><span class="line">git commit --amend --no-edit  <span class="comment"># --no-edit 保留原提交说明</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="如何删除某次-commit未推送">1.5 如何删除某次
commit？（未推送）</h4>
<ul>
<li><strong>错误场景</strong>：某次提交有误（如包含敏感信息），且未推送到远程。<br />
</li>
<li><strong>解决方案</strong>（原文 + 补充）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方案 1：交互式变基（原文方案，推荐）</span></span><br><span class="line">git rebase -i HEAD~N  <span class="comment"># N 为“当前版本到目标提交”的距离（如删除最近第 3 次提交，N=3）</span></span><br><span class="line"><span class="comment"># 编辑界面中，将目标提交前的“pick”改为“drop”，保存退出</span></span><br><span class="line"><span class="comment"># 若出现冲突，解决后执行 git rebase --continue</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 2：reset 回滚（适用于删除最近的提交）</span></span><br><span class="line">git reset --hard 目标提交ID  <span class="comment"># 回滚到目标提交，删除后续所有提交</span></span><br><span class="line"><span class="comment"># 示例：删除最近 2 次提交，回滚到 HEAD~2 对应的提交</span></span><br><span class="line">git reset --hard HEAD~2</span><br></pre></td></tr></table></figure></li>
<li><strong>警告</strong>：严禁对已推送到远程的提交使用此方法，会导致团队历史混乱！</li>
</ul>
<h4 id="如何恢复被删除的分支">1.6 如何恢复被删除的分支？</h4>
<ul>
<li><strong>前提</strong>：被删除的分支曾有提交记录（可通过
<code>git reflog</code> 找到）。<br />
</li>
<li><strong>解决方案</strong>（原文 + 补充）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 步骤 1：查看所有引用历史，找到被删除分支的最后一个提交 ID（如 a8c3f）</span></span><br><span class="line">git reflog</span><br><span class="line"></span><br><span class="line"><span class="comment"># 步骤 2：基于该提交 ID 重建分支</span></span><br><span class="line">git checkout -b 被删除的分支名 提交ID  <span class="comment"># 如 git checkout -b feature/pay a8c3f</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 步骤 3：（若分支已推送到远程）重新推送分支</span></span><br><span class="line">git push -u origin 被删除的分支名</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="git-仓库突然很大怎么排查">1.7 Git 仓库突然很大，怎么排查？</h4>
<ul>
<li><strong>原因</strong>：仓库中存在大文件（如压缩包、日志），或历史提交中包含大文件。<br />
</li>
<li><strong>解决方案</strong>（原文 + 补充）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 步骤 1：查看仓库中最大的 20 个文件（原文方案）</span></span><br><span class="line">git rev-list --objects --all | <span class="built_in">sort</span> -k 2 | \</span><br><span class="line">git cat-file --batch-check=<span class="string">&#x27;%(objecttype) %(objectname) %(objectsize) %(rest)&#x27;</span> | \</span><br><span class="line">grep ^blob | <span class="built_in">sort</span> -k3 -n | <span class="built_in">tail</span> -20</span><br><span class="line"></span><br><span class="line"><span class="comment"># 步骤 2：删除大文件（若文件未提交，直接删除并添加到 .gitignore）</span></span><br><span class="line"><span class="built_in">rm</span> 大文件路径</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;大文件路径&quot;</span> &gt;&gt; .gitignore</span><br><span class="line">git add .gitignore</span><br><span class="line">git commit -m <span class="string">&quot;chore: 忽略大文件并删除&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 步骤 3：若大文件已提交到历史，需清理历史（需谨慎，会修改历史！）</span></span><br><span class="line"><span class="comment"># 使用 BFG Repo-Cleaner 工具（比 git filter-branch 更快）</span></span><br><span class="line"><span class="comment"># 1. 安装 BFG：https://rtyley.github.io/bfg-repo-cleaner/</span></span><br><span class="line"><span class="comment"># 2. 清理历史中的大文件（如大于 100MB 的文件）</span></span><br><span class="line">bfg --strip-blobs-bigger-than 100M 仓库路径</span><br><span class="line"><span class="comment"># 3. 优化仓库</span></span><br><span class="line">git gc --prune=now --aggressive</span><br><span class="line"><span class="comment"># 4. 强制推送修改后的历史（仅在个人仓库或团队确认后执行）</span></span><br><span class="line">git push --force-with-lease origin master</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="you-have-not-concluded-your-merge未完成合并">1.8
<code>You have not concluded your merge</code>（未完成合并）</h4>
<ul>
<li><strong>错误原因</strong>：上一次 <code>git merge</code>
出现冲突，未解决完就中断了操作。<br />
</li>
<li><strong>解决方案</strong>（原文 + 补充）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方案 1：放弃上一次合并，回到合并前状态（推荐，重新合并）</span></span><br><span class="line">git merge --abort</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 2：继续完成合并（若已解决冲突）</span></span><br><span class="line">git add 冲突文件路径  <span class="comment"># 标记冲突已解决</span></span><br><span class="line">git commit -m <span class="string">&quot;merge: 完成与 master 分支的合并（解决冲突）&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="detached-headhead-脱离分支">1.9 <code>detached HEAD</code>（HEAD
脱离分支）</h4>
<ul>
<li><strong>含义</strong>：HEAD 直接指向某个提交
ID，而非分支指针（常见于检出标签、旧提交），此时修改无法直接提交到分支。<br />
</li>
<li><strong>解决方案</strong>（原文 + 补充）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方案 1：回到已存在的分支（如 master，丢弃 detached 状态的修改）</span></span><br><span class="line">git checkout master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 2：基于当前 detached 状态创建新分支（保留修改，推荐）</span></span><br><span class="line">git checkout -b new-branch  <span class="comment"># 新建分支并切换，修改会保留在新分支</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 3：若需将修改提交到已有分支（如 feature/pay）</span></span><br><span class="line">git stash  <span class="comment"># 暂存当前修改</span></span><br><span class="line">git checkout feature/pay  <span class="comment"># 切换到目标分支</span></span><br><span class="line">git stash pop  <span class="comment"># 恢复修改</span></span><br><span class="line">git commit -m <span class="string">&quot;feat: 从 detached 状态恢复的修改&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="忘记某次-commit-id-怎么办">1.10 忘记某次 commit ID 怎么办？</h4>
<ul>
<li><strong>解决方案</strong>（原文 + 补充）：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 方案 1：查看所有提交历史（含提交 ID、说明）</span></span><br><span class="line">git <span class="built_in">log</span> --oneline  <span class="comment"># 简洁显示，快速查找</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 2：查看所有引用历史（包括已删除的提交、reset 记录）</span></span><br><span class="line">git reflog  <span class="comment"># 找到目标提交的 ID（如 a8c3f）</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 方案 3：按作者/时间/关键词筛选（缩小范围）</span></span><br><span class="line">git <span class="built_in">log</span> --author=<span class="string">&quot;张三&quot;</span> --since=<span class="string">&quot;1 week ago&quot;</span> --grep=<span class="string">&quot;登录&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="补充常见问题">2. 补充常见问题</h3>
<h4 id="如何忽略已跟踪的文件">2.1 如何忽略已跟踪的文件？</h4>
<ul>
<li><strong>问题场景</strong>：已 <code>git add</code>
的文件（如配置文件
<code>config.ini</code>），后续想忽略但不删除本地文件。<br />
</li>
<li><strong>解决方案</strong>：<br />
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 步骤 1：从暂存区移除文件（保留本地文件）</span></span><br><span class="line">git <span class="built_in">rm</span> --cached config.ini</span><br><span class="line"></span><br><span class="line"><span class="comment"># 步骤 2：将文件添加到 .gitignore</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;config.ini&quot;</span> &gt;&gt; .gitignore</span><br><span class="line"></span><br><span class="line"><span class="comment"># 步骤 3：提交修改</span></span><br><span class="line">git add .gitignore</span><br><span class="line">git commit -m <span class="string">&quot;chore: 忽略已跟踪的 config.ini 文件&quot;</span></span><br></pre></td></tr></table></figure></li>
<li><strong>注意</strong>：<code>.gitignore</code>
仅对未跟踪文件生效，已跟踪文件需先 <code>git rm --cached</code>。</li>
</ul>
<h4 id="如何恢复被-git-checkout----文件-误删的修改">2.2 如何恢复被
<code>git checkout -- 文件</code> 误删的修改？</h4>
<ul>
<li><strong>问题场景</strong>：执行 <code>git checkout -- 文件名</code>
后，工作区修改被删除，未提交也未 stash。<br />
</li>
<li><strong>解决方案</strong>：<br />
若修改未被 <code>git add</code>，Git
无法直接恢复，但可尝试通过编辑器的“本地历史”（如 VS Code 的“文件 &gt;
恢复文件”）恢复，或使用第三方数据恢复工具。<br />
</li>
<li><strong>预防</strong>：执行 <code>git checkout -- 文件</code>
前，先用 <code>git status</code> 确认修改是否需要保留，重要修改先
<code>git stash</code>。</li>
</ul>
<h2 id="十五实用提示与工作流建议">十五、实用提示与工作流建议</h2>
<h3 id="原文提示补充">1. 原文提示补充</h3>
<ul>
<li><strong>善用
<code>git stash</code></strong>：切换分支前若有未提交的修改，用
<code>git stash save "备注"</code> 暂存，避免修改丢失；<br />
</li>
<li><strong>慎用 <code>git push --force</code></strong>：优先使用
<code>git push --force-with-lease</code>，若必须
force，需先确认远程分支无他人修改；<br />
</li>
<li><strong>定期优化仓库</strong>：执行 <code>git gc</code>
清理无用对象，<code>git fetch --prune</code> 清理无效远程分支；<br />
</li>
<li><strong>可视化工具辅助</strong>：新手推荐使用
Sourcetree（免费）、GitKraken（付费），或 IDE 内置 Git 工具（VS
Code、IntelliJ IDEA），降低命令行操作门槛。</li>
</ul>
<h3 id="补充常用-git-工作流">2. 补充：常用 Git 工作流</h3>
<ul>
<li><strong>1. GitHub Flow（简洁，适用于持续部署）</strong>：
<ol type="1">
<li>从 <code>main</code> 分支创建 feature/bugfix 分支；<br />
</li>
<li>本地开发，频繁提交并推送到远程同名分支；<br />
</li>
<li>开发完成后，提交 Pull Request（PR）；<br />
</li>
<li>代码审核通过后，合并到 <code>main</code> 分支；<br />
</li>
<li>合并后删除 feature/bugfix 分支，<code>main</code>
分支自动部署。</li>
</ol></li>
<li><strong>2. Git Flow（规范，适用于版本化发布）</strong>：<br />
核心分支：
<ul>
<li><code>main</code>：生产环境分支，仅存放稳定版本；<br />
</li>
<li><code>develop</code>：开发环境分支，集成各功能分支；<br />
</li>
<li><code>feature/*</code>：功能开发分支（从 <code>develop</code>
创建，合并回 <code>develop</code>）；<br />
</li>
<li><code>hotfix/*</code>：生产环境紧急修复分支（从 <code>main</code>
创建，合并回 <code>main</code> 和 <code>develop</code>）；<br />
</li>
<li><code>release/*</code>：版本发布分支（从 <code>develop</code>
创建，合并回 <code>main</code> 和
<code>develop</code>，并打标签）。</li>
</ul></li>
</ul>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag"><i class="fa fa-tag"></i> 工具</a>
              <a href="/tags/Git/" rel="tag"><i class="fa fa-tag"></i> Git</a>
          </div>

        



        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2025/08/15/linux/Socket%20%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5/" rel="prev" title="Socket基础概念">
      <i class="fa fa-chevron-left"></i> Socket基础概念
    </a></div>
      <div class="post-nav-item">
    <a href="/2025/08/15/linux/C++Linux%20%E5%88%9B%E5%BB%BAdaemon%E8%BF%9B%E7%A8%8B/" rel="next" title="C++/Linux 创建daemon进程">
      C++/Linux 创建daemon进程 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
            
    <div class="comments" id="gitalk-container"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#git-%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8"><span class="nav-number">1.</span> <span class="nav-text">Git 命令大全</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E5%88%9D%E5%A7%8B%E5%8C%96%E4%B8%8E%E9%85%8D%E7%BD%AE"><span class="nav-number">1.1.</span> <span class="nav-text">一、初始化与配置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9"><span class="nav-number">1.1.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95"><span class="nav-number">1.1.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E5%85%8B%E9%9A%86%E7%8A%B6%E6%80%81%E4%B8%8E%E6%8F%90%E4%BA%A4"><span class="nav-number">1.2.</span> <span class="nav-text">二、克隆、状态与提交</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-1"><span class="nav-number">1.2.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-1"><span class="nav-number">1.2.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E6%96%87%E4%BB%B6%E5%88%A0%E9%99%A4%E4%B8%8E%E9%87%8D%E5%91%BD%E5%90%8D"><span class="nav-number">1.3.</span> <span class="nav-text">三、文件删除与重命名</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-2"><span class="nav-number">1.3.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-2"><span class="nav-number">1.3.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E6%97%A5%E5%BF%97%E6%9F%A5%E7%9C%8B%E4%B8%8E%E6%98%BE%E7%A4%BA"><span class="nav-number">1.4.</span> <span class="nav-text">四、日志查看与显示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-3"><span class="nav-number">1.4.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-3"><span class="nav-number">1.4.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E6%A0%87%E7%AD%BE%E7%AE%A1%E7%90%86"><span class="nav-number">1.5.</span> <span class="nav-text">五、标签管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-4"><span class="nav-number">1.5.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-4"><span class="nav-number">1.5.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E5%B7%AE%E5%BC%82%E6%AF%94%E8%BE%83diff"><span class="nav-number">1.6.</span> <span class="nav-text">六、差异比较（diff）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-5"><span class="nav-number">1.6.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-5"><span class="nav-number">1.6.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%83%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E6%93%8D%E4%BD%9C"><span class="nav-number">1.7.</span> <span class="nav-text">七、远程仓库操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-6"><span class="nav-number">1.7.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-6"><span class="nav-number">1.7.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AB%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86"><span class="nav-number">1.8.</span> <span class="nav-text">八、分支管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-7"><span class="nav-number">1.8.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-7"><span class="nav-number">1.8.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B9%9D%E5%88%86%E6%94%AF%E6%A3%80%E5%87%BA%E4%B8%8E%E5%90%88%E5%B9%B6"><span class="nav-number">1.9.</span> <span class="nav-text">九、分支检出与合并</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-8"><span class="nav-number">1.9.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-8"><span class="nav-number">1.9.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E6%93%8D%E4%BD%9Cresetrebaserevert"><span class="nav-number">1.10.</span> <span class="nav-text">十、版本控制操作（reset&#x2F;rebase&#x2F;revert）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-9"><span class="nav-number">1.10.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-9"><span class="nav-number">1.10.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E4%B8%80%E6%9A%82%E5%AD%98%E4%B8%8E%E6%81%A2%E5%A4%8Dstash"><span class="nav-number">1.11.</span> <span class="nav-text">十一、暂存与恢复（stash）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-10"><span class="nav-number">1.11.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-10"><span class="nav-number">1.11.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E4%BA%8C%E6%96%87%E4%BB%B6%E6%9F%A5%E6%89%BE%E4%B8%8E%E6%97%A5%E5%BF%97%E8%BE%85%E5%8A%A9"><span class="nav-number">1.12.</span> <span class="nav-text">十二、文件查找与日志辅助</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-11"><span class="nav-number">1.12.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-11"><span class="nav-number">1.12.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E4%B8%89%E4%BD%8E%E5%B1%82%E6%93%8D%E4%BD%9C%E4%BA%86%E8%A7%A3%E5%8D%B3%E5%8F%AF"><span class="nav-number">1.13.</span> <span class="nav-text">十三、低层操作（了解即可）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%B8%E5%BF%83%E5%91%BD%E4%BB%A4%E6%95%B4%E7%90%86%E5%8E%9F%E6%96%87%E5%86%85%E5%AE%B9-12"><span class="nav-number">1.13.1.</span> <span class="nav-text">1. 核心命令整理（原文内容）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%E4%B8%8E%E6%89%A9%E5%B1%95-12"><span class="nav-number">1.13.2.</span> <span class="nav-text">2. 补充知识与扩展</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E5%9B%9B%E5%B8%B8%E8%A7%81-git-%E9%97%AE%E9%A2%98%E4%B8%8E%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88faq"><span class="nav-number">1.14.</span> <span class="nav-text">十四、常见 Git
问题与解决方案（FAQ）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E6%96%87%E9%97%AE%E9%A2%98%E6%95%B4%E7%90%86%E4%B8%8E%E8%A1%A5%E5%85%85"><span class="nav-number">1.14.1.</span> <span class="nav-text">1. 原文问题整理与补充</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#fatal-not-a-git-repository%E4%B8%8D%E6%98%AF-git-%E4%BB%93%E5%BA%93"><span class="nav-number">1.14.1.1.</span> <span class="nav-text">1.1
fatal: not a git repository（不是 Git 仓库）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#error-failed-to-push-some-refs-to-...%E6%8E%A8%E9%80%81%E5%A4%B1%E8%B4%A5"><span class="nav-number">1.14.1.2.</span> <span class="nav-text">1.2
error: failed to push some refs to ...（推送失败）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%92%A4%E9%94%80-git-add%E5%8F%96%E6%B6%88%E6%9A%82%E5%AD%98"><span class="nav-number">1.14.1.3.</span> <span class="nav-text">1.3 如何撤销
git add？（取消暂存）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%92%A4%E9%94%80-git-commit%E6%9C%AA%E6%8E%A8%E9%80%81"><span class="nav-number">1.14.1.4.</span> <span class="nav-text">1.4 如何撤销
git commit？（未推送）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4%E6%9F%90%E6%AC%A1-commit%E6%9C%AA%E6%8E%A8%E9%80%81"><span class="nav-number">1.14.1.5.</span> <span class="nav-text">1.5 如何删除某次
commit？（未推送）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%81%A2%E5%A4%8D%E8%A2%AB%E5%88%A0%E9%99%A4%E7%9A%84%E5%88%86%E6%94%AF"><span class="nav-number">1.14.1.6.</span> <span class="nav-text">1.6 如何恢复被删除的分支？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#git-%E4%BB%93%E5%BA%93%E7%AA%81%E7%84%B6%E5%BE%88%E5%A4%A7%E6%80%8E%E4%B9%88%E6%8E%92%E6%9F%A5"><span class="nav-number">1.14.1.7.</span> <span class="nav-text">1.7 Git 仓库突然很大，怎么排查？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#you-have-not-concluded-your-merge%E6%9C%AA%E5%AE%8C%E6%88%90%E5%90%88%E5%B9%B6"><span class="nav-number">1.14.1.8.</span> <span class="nav-text">1.8
You have not concluded your merge（未完成合并）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#detached-headhead-%E8%84%B1%E7%A6%BB%E5%88%86%E6%94%AF"><span class="nav-number">1.14.1.9.</span> <span class="nav-text">1.9 detached HEAD（HEAD
脱离分支）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BF%98%E8%AE%B0%E6%9F%90%E6%AC%A1-commit-id-%E6%80%8E%E4%B9%88%E5%8A%9E"><span class="nav-number">1.14.1.10.</span> <span class="nav-text">1.10 忘记某次 commit ID 怎么办？</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="nav-number">1.14.2.</span> <span class="nav-text">2. 补充常见问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E5%BF%BD%E7%95%A5%E5%B7%B2%E8%B7%9F%E8%B8%AA%E7%9A%84%E6%96%87%E4%BB%B6"><span class="nav-number">1.14.2.1.</span> <span class="nav-text">2.1 如何忽略已跟踪的文件？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E6%81%A2%E5%A4%8D%E8%A2%AB-git-checkout----%E6%96%87%E4%BB%B6-%E8%AF%AF%E5%88%A0%E7%9A%84%E4%BF%AE%E6%94%B9"><span class="nav-number">1.14.2.2.</span> <span class="nav-text">2.2 如何恢复被
git checkout -- 文件 误删的修改？</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%81%E4%BA%94%E5%AE%9E%E7%94%A8%E6%8F%90%E7%A4%BA%E4%B8%8E%E5%B7%A5%E4%BD%9C%E6%B5%81%E5%BB%BA%E8%AE%AE"><span class="nav-number">1.15.</span> <span class="nav-text">十五、实用提示与工作流建议</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E6%96%87%E6%8F%90%E7%A4%BA%E8%A1%A5%E5%85%85"><span class="nav-number">1.15.1.</span> <span class="nav-text">1. 原文提示补充</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A5%E5%85%85%E5%B8%B8%E7%94%A8-git-%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="nav-number">1.15.2.</span> <span class="nav-text">2. 补充：常用 Git 工作流</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="三子曰"
      src="https://cdn.jsdelivr.net/gh/MengChangWang/Blog_Image@main/img/avatar.png">
  <p class="site-author-name" itemprop="name">三子曰</p>
  <div class="site-description" itemprop="description">欢迎来到我的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">70</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">23</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/wangmc1024" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;wangmc1024" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:wangmc1024@gmail.com" title="E-Mail → mailto:wangmc1024@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; Wed Mar 27 2024 08:00:00 GMT+0800 (中国标准时间) – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">三子曰</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="站点总字数">664k</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script size="300" alpha="0.6" zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var canonicalURL, curProtocol;
      //Get the <link> tag
      var x=document.getElementsByTagName("link");
		//Find the last canonical URL
		if(x.length > 0){
			for (i=0;i<x.length;i++){
				if(x[i].rel.toLowerCase() == 'canonical' && x[i].href){
					canonicalURL=x[i].href;
				}
			}
		}
    //Get protocol
	    if (!canonicalURL){
	    	curProtocol = window.location.protocol.split(':')[0];
	    }
	    else{
	    	curProtocol = canonicalURL.split(':')[0];
	    }
      //Get current URL if the canonical URL does not exist
	    if (!canonicalURL) canonicalURL = window.location.href;
	    //Assign script content. Replace current URL with the canonical URL
      !function(){var e=/([http|https]:\/\/[a-zA-Z0-9\_\.]+\.baidu\.com)/gi,r=canonicalURL,t=document.referrer;if(!e.test(r)){var n=(String(curProtocol).toLowerCase() === 'https')?"https://sp0.baidu.com/9_Q4simg2RQJ8t7jm9iCKT-xh_/s.gif":"//api.share.baidu.com/s.gif";t?(n+="?r="+encodeURIComponent(document.referrer),r&&(n+="&l="+r)):r&&(n+="?l="+r);var i=new Image;i.src=n}}(window);})();
  </script>















  

  

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
NexT.utils.loadComments(document.querySelector('#gitalk-container'), () => {
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', () => {
    var gitalk = new Gitalk({
      clientID    : '2719e26e1ea715ee8429',
      clientSecret: '77a4ce8e9410a002f05c8f2c2b398c952a012d7c',
      repo        : 'wangmc1024.github.io',
      owner       : 'wangmc1024',
      admin       : ['wangmc1024'],
      id          : '0a66baef1745bfc7ed4ac80b144f979c',
        language: 'zh-CN',
      distractionFreeMode: true
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
});
</script>



</body>
</html>
